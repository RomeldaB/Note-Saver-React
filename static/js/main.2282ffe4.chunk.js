(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{36:function(e,t,n){e.exports=n(54)},41:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),l=n.n(c),o=(n(41),n(12)),i=n(11),u=n(7),s=n.n(u),d=n(14),m=n(5),f=n(3),p=n(32),v=(n(47),n(49),p.initializeApp({apiKey:"AIzaSyAJ9GWxW8Pmlcl1tQYbCZbQuxI0kBo-MTk",authDomain:"note-saver-a0cc7.firebaseapp.com",databaseURL:"https://note-saver-a0cc7.firebaseio.com",projectId:"note-saver-a0cc7",storageBucket:"note-saver-a0cc7.appspot.com",messagingSenderId:"218369868232",appId:"1:218369868232:web:274d0987e0bd325a9a40fd"})),b=v.auth(),g=v.database();function h(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-brand"},r.a.createElement("h1",null,"MyNotes")),r.a.createElement("div",{onClick:function(e){e.preventDefault(),console.log("Signing out"),b.signOut()},className:"nav-link"},r.a.createElement("button",null,"Log out"),r.a.createElement("i",{className:"fas fa-user-minus"})))}var E=n(56),O=function(e){return{type:"setUid",uid:e}},j=function(e,t){return{type:"addNote",data:t,id:e}},y=function(e){return{type:"delNote",id:e}},w=function(e,t){return{type:"updateNote",id:e,changes:t}},N=function(e){return function(){var t=Object(d.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.ref(""+e);case 2:(a=t.sent).on("child_added",(function(e){var t=e.key,a=e.val();n(j(t,a))})),a.on("child_changed",(function(e){var t=e.key,a=e.val();n(w(t,a))})),a.on("child_removed",(function(e){var t=e.key;n(y(t))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function k(e){var t=e.note,n=e.openEditPopup,a=Object(f.b)(),c=Object(f.c)((function(e){return e.firebase.uid}));return r.a.createElement("div",{className:"note",style:{backgroundColor:t.color}},r.a.createElement("h2",null,t.title),r.a.createElement("p",null,t.description),r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{onClick:function(){return n(t)}},r.a.createElement("i",{className:"fas fa-edit"})),r.a.createElement("div",{onClick:function(){return a(function(e,t){return function(){var n=Object(d.a)(s.a.mark((function n(a){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:g.ref(e+"/"+t).remove((function(e){e&&console.log("Error on deleting firebase entry!")}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(c,t.id))}},r.a.createElement("i",{className:"fas fa-trash-alt"}))))}function C(e){var t=Object(f.b)(),n=Object(f.c)((function(e){return e.firebase.uid})),c=null;"edit"===e.type&&(c=e.note);var l=Object(a.useState)(c?c.title:""),o=Object(m.a)(l,2),i=o[0],u=o[1],p=Object(a.useState)(c?c.description:""),v=Object(m.a)(p,2),b=v[0],h=v[1],O=Object(a.useState)(c?c.color:"lightskyblue"),j=Object(m.a)(O,2),y=j[0],w=j[1],N=Object(a.useState)(""),k=Object(m.a)(N,2),C=k[0],S=k[1],x=function(){c?e.handleEditCancel():e.handleAddCancel()};return r.a.createElement("section",{className:"fixed-form-container"},r.a.createElement("form",null,r.a.createElement("h1",null,"edit"===e.type?"Edit Note":"Add Note"),r.a.createElement("div",{className:"inputs"},r.a.createElement("div",{className:"labels"},"Title"),r.a.createElement("input",{type:"text",value:i,onChange:function(e){return u(e.target.value)}}),r.a.createElement("div",{className:"labels"},"Description"),r.a.createElement("textarea",{rows:"5",cols:"30",value:b,onChange:function(e){return h(e.target.value)}}),r.a.createElement("div",{className:"labels"},"Color"),r.a.createElement("select",{id:"colors",style:{backgroundColor:y},value:y,onChange:function(e){return w(e.target.value)}},r.a.createElement("option",{value:"lightskyblue"},"Blue"),r.a.createElement("option",{value:"lightcoral"},"Red"),r.a.createElement("option",{value:"rgb(238, 238, 112)"},"Yellow"),r.a.createElement("option",{value:"lightpink"},"Pink"),r.a.createElement("option",{value:"lightsalmon"},"Orange"),r.a.createElement("option",{value:"lightseagreen"},"Green"))),C?r.a.createElement("h2",null,C):"",r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{id:"cancel",onClick:x},"Cancel"),r.a.createElement("button",{id:"save",onClick:function(e){if(e.preventDefault(),""!==i)if(""!==b){var a={title:i,description:b,color:y};t(c?function(e,t,n){return function(){var a=Object(d.a)(s.a.mark((function a(r){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:g.ref(e+"/"+t).update(n,(function(e){e&&console.log("Error on updating firebase entry!")}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,c.id,a):function(e,t){return function(){var n=Object(d.a)(s.a.mark((function n(a){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Object(E.a)(),g.ref(e+"/"+r).set(t,(function(e){e&&console.log("Error on adding firebase entry!")}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n,a)),x()}else S("Description cannot be left empty!!");else S("Title cannot be left empty!!")}},"Save"))))}var S=function(){var e=Object(f.b)(),t=Object(a.useState)(null),n=Object(m.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(!1),u=Object(m.a)(o,2),p=u[0],v=u[1],g=Object(a.useState)(!1),E=Object(m.a)(g,2),j=E[0],y=E[1],w=Object(a.useState)(""),S=Object(m.a)(w,2),x=S[0],I=S[1],A=Object(f.c)((function(e){return e.authentication.loggedIn})),D=Object(f.c)((function(e){return""===x?e.notes:e.notes.filter((function(e){return e.title.toLowerCase().includes(x.toLowerCase())}))})),P=function(){return v(!1)},U=function(){return y(!1)},L=function(e){l(e),y(!0)},W=function(){var t=Object(d.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=setInterval((function(){if(b.currentUser&&null!==b.currentUser.uid){clearInterval(n);var t=b.currentUser.uid;e(N(t)),e(O(t))}}),100);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){W()}),[]),r.a.createElement("section",{className:"Home"},!1===A?r.a.createElement(i.a,{to:"/login"}):"",r.a.createElement(h,null),p?r.a.createElement(C,{type:"add",handleAddCancel:P,handleEditCancel:U}):null,j?r.a.createElement(C,{type:"edit",note:c,handleAddCancel:P,handleEditCancel:U}):null,r.a.createElement("div",{className:"search"},r.a.createElement("i",{className:"fas fa-search"}),r.a.createElement("input",{type:"text",placeholder:"Search Note",value:x,onChange:function(e){I(e.target.value)}}),r.a.createElement("div",{className:"plus-button-container"},r.a.createElement("button",{onClick:function(){return v(!0)}},"+"))),r.a.createElement("div",{className:"flex-wrapper"},D.length?D.map((function(e){return r.a.createElement(k,{key:e.id,note:e,openEditPopup:L})})):r.a.createElement("div",{id:"first-message"},r.a.createElement("h1",null,"You haven't written any notes yet!"))))},x={register:{header:"Register",message:"Already have an account?",comp:r.a.createElement(o.b,{to:"/login"},"Login")},login:{header:"Login",message:"Don't have an account yet?",comp:r.a.createElement(o.b,{to:"/register"},"Register")}},I=Object(i.g)((function(e){var t=e.page,n=e.history,c=Object(a.useState)(""),l=Object(m.a)(c,2),o=l[0],i=l[1],u=Object(a.useState)(""),s=Object(m.a)(u,2),d=s[0],f=s[1],p=Object(a.useState)(""),v=Object(m.a)(p,2),g=v[0],h=v[1];return r.a.createElement("form",null,r.a.createElement("div",{className:"inputs"},r.a.createElement("h1",null,x[t].header),o?r.a.createElement("h4",null,o):"",r.a.createElement("div",{className:"labels"},"Email"),r.a.createElement("input",{type:"email",placeholder:"Your email",value:d,onChange:function(e){return f(e.target.value)}}),r.a.createElement("div",{className:"labels"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Your password",value:g,onChange:function(e){return h(e.target.value)}})),r.a.createElement("div",{id:"login-link"},r.a.createElement("button",{onClick:function(e){e.preventDefault(),"register"===t?b.createUserWithEmailAndPassword(d,g).then((function(){n.push("/")})).catch((function(e){return i(e.message)})):"login"===t&&b.signInWithEmailAndPassword(d,g).then((function(){n.push("/")})).catch((function(e){return i(e.message)}))}},"Submit")),r.a.createElement("div",{className:"row"},r.a.createElement("p",null,x[t].message),x[t].comp))}));function A(e){var t=e.page,n=Object(f.c)((function(e){return e.authentication.loggedIn}));return r.a.createElement("section",{className:"Auth"},!1!==n?r.a.createElement(i.a,{to:"/"}):"",r.a.createElement(I,{page:t}))}n(53);var D=function(){var e=Object(f.b)();return Object(a.useEffect)((function(){b.onAuthStateChanged((function(t){e(t?{type:"logIn"}:{type:"logOut"})}))}),[]),r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0},r.a.createElement(S,null)),r.a.createElement(i.b,{path:"/register",exact:!0},r.a.createElement(A,{page:"register"})),r.a.createElement(i.b,{path:"/login",exact:!0},r.a.createElement(A,{page:"login"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(9),U=n(35),L=n(13),W=Object(L.c)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"addNote":var n=e.map((function(e){return e.id}));return n.includes(t.id)?e:[].concat(Object(U.a)(e),[Object(P.a)({id:t.id},t.data)]);case"delNote":return e.filter((function(e){return e.id!==t.id}));case"updateNote":return e.map((function(e){return e.id===t.id?Object.assign(e,t.changes):e}));default:return e}},authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggedIn:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"logIn":return Object(P.a)(Object(P.a)({},e),{},{loggedIn:!0});case"logOut":return Object(P.a)(Object(P.a)({},e),{},{loggedIn:!1});default:return e}},firebase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uid:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setUid":return Object(P.a)(Object(P.a)({},e),{},{uid:t.uid});default:return e}}}),B=n(34),Y=Object(L.d)(W,Object(L.a)(B.a));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:Y},r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.2282ffe4.chunk.js.map